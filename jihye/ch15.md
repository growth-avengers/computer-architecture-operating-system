# **Chapter 15 파일 시스템**

## 15-1 파일과 디렉터리

파일과 디렉터리 모두 운영체제 내부 파일 시스템이 관리하는 존재다. 운영체제는 어떻게 보조기억장치에 있는 데이터 덩어리인 파일과 디렉터리를 관리하는 것일까?

### 파일

- 하드 디스크나 보조기억장치에 저장된 관련 정보의 집합을 의미한다.
- 의미있고 관련있는 정보를 모은 논리적 단위
- 모든 파일에는 파일을 실행하기 위한 정보와 속성 또는 메타데이터라고 부르는 부가 정보가 있다.
- 운영체제는 파일 연산을 위한 시스템 호출을 제공한다.
    - 파일 생성, 삭제, 열기, 닫기, 읽기, 쓰기

### 디렉터리

- 파일을 일목요연하게 관리하기 위해 디렉터리를 이용할 수 있다. 윈도우에서는 폴더라고 부른다.
- 트리 구조 디렉터리
    - 최상위 디렉터리는 루트 디렉터리라고 부르고 슬래시(/)로 표현한다.
    - **경로**라는 개념이 나왔다.
        - 디렉터리를 이용해 파일 위치, 나아가 파일 이름을 특정 짓는 정보다.
        - 절대 경로
            - 루트 디렉터리부터 시작하는 경로
        - 상대 경로
            - 현재 디렉터리로부터 시작하는 경로
- 운영체제는 디렉터리 연산을 위한 시스템 호출을 제공한다.
    - 디렉터리 생성, 삭제, 열기, 닫기, 읽기

## 15-2 파일 시스템

### 파티셔닝과 포매팅

- 파티셔닝
    - 저장 장치의 논리적인 영역을 구획하는 작업
- 포매팅
    - 파일 시스템을 결정하여 어떤 방식으로 파일을 저장하고 관리할 것인지를 결정하고, 새로운 데이터를 쓸 준비를 하는 작업을 의미한다.

### 파일 할당 방법

- 운영 체제는 파일과 디렉터리를 블록 단위로 읽고 쓴다.
- 하드 디스크의 가장 작은 저장 단위는 섹터지만 운영체제는 하나 이상의 섹터를 블록이라는 단위로 묶은 뒤 블록 단위로 파일과 디렉터리를 관리한다.
    - 왜냐하면 파일 시스템이 모든 섹터를 관리하기에는 개수가 너무 많고 크기도 작기 때문
- 파일을 보조기억장치에 할당하는 방법
    - 연속 할당
        - 외부 단편화를 야기시킴
    - **불연속 할당**
        - 연결 할당
            - 연속 할당의 문제 해결
            - 단점
                - 반드시 첫 번째 블록부터 하나씩 차례대로 읽어야 한다
                    - 임의 접근 속도가 매우 느리다.
                - 하드웨어 고장이나 오류 발생 시 해당 블록 이후 블록은 접근할 수 없다.
        - 색인 할당

### 파일 시스템 살펴보기

- FAT 파일 시스템
    - 연결 할당의 단점을 보완할 파일 시스템
        - 연결 할당 방식이 가지는 단점들의 근본적인 원인은 블록 안에 다음 블록의 주소를 저장했기 때문
            - 각 블록에 포함된 다음 블록의 주소들을 한 곳에 모아 테이블 형태로 관리하면 연결 할당 방식의 단점을 상당 부분 해소할 수 있다.
                - 파일 할당 테이블
- 유닉스 파일 시스템
    - 색인 할당 기반
    - 색인 블록을 i-node(index-node) 라고 부른다.

---

### 논의 내용

- 파일의 할당 방법에 대해서 돌아가면서 아는 만큼 이야기해보면 좋겠습니다.